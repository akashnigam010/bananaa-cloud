<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3">

<head th:replace="fragments/head :: head"></head>
<link href="/css/detail.css" type="text/css" rel="stylesheet"></link>
<link href="/css/detail-mini.css" type="text/css" rel="stylesheet" media="only screen and (max-width: 480px), only screen and (max-device-width: 480px)" />
<script src="https://www.gstatic.com/firebasejs/3.7.2/firebase.js"></script>

<body>
	<script type="text/javascript" src="/js/login.js"></script>
	<div class="container-fluid">

		<div class="hide" id="primaryImageTemp" th:text="${detail.imageUrl}"></div>
        <div class="row primary-image-banner">
            <div class="col-xs-12">
                <div class="row">
                    <div class="col-xs-6">
                        <p class="simpson header-icon cursor-pointer" onclick="location.href='/'">bananaa</p>
                    </div>
                    <div class="col-xs-6">
                        <div class="btn-group login-info pull-right">
                            <button type="button" id="login-button" class="btn btn-default dropdown-toggle" data-toggle="dropdown"
                                aria-haspopup="true" aria-expanded="false">
                                <span id="login-info" th:text="${loginStatus.status} ? ${loginStatus.firstName} : 'Login'"></span> <span class="caret"></span>                        
                            </button>
                            <ul id="login-dropdown" class="dropdown-menu pull-right">
                                    <li><a href="javascript:logout();">Logout</a></li>
                                </ul>
                        </div>
                    </div>
                </div>
            </div>          
        </div>

        <div class="row merchant-detail-background blue-white-background">
            <div class="col-xs-12 col-sm-8 col-sm-offset-2 merchant-detail-main">
                <div class="row white-background details-wrapper details-top-wrapper">
                    <div class="col-xs-12">
                        <div class="row" style="padding: 3% 0%;">
                            <div class="col-xs-12 col-sm-8">
                                <div class="row">
                                    <div class="col-xs-12">
                                        <div class="row padding-left">
                                            <div class="col-xs-12 bold font-2" th:text="${detail.name}">
                                            </div>
                                             <div class="col-xs-12 light" th:text="${detail.shortAddress}">
                                            </div>                                            
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="hidden-xs col-sm-4">
                                <div class="row">
                                    <div class="col-xs-12">
                                        <div class="row padding-left" style="padding-top: 2%;">
                                            <div class="col-xs-12 bold font-1-5">
                                                380
                                            </div>
                                             <div class="col-xs-12 bna-color">
                                                RECOMMENDATIONS
                                            </div>                                            
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-xs-12 hidden-sm hidden-md hidden-lg">
                                <div class="row">
                                    <div class="col-xs-12">
                                        <div class="row padding-left">
                                            <div class="col-xs-12 padding-top">
                                                <hr />
                                                <span class="bold font-1-5">380</span>
                                            <span class="bna-color">RECOMMENDATIONS</span> 
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>                                              
                    </div>   
                </div>


                <div class="row">
                    <div class="col-xs-12 col-sm-4 col-sm-push-8 white-background details-wrapper" style="margin-top: 10px;">
                        <div class="col-xs-12">
                            <div class="row flexi-font" style="padding: 2%;">
                                <div class="col-xs-6 col-sm-12 detail-type-padding">
                                    <div class="bna-color">Opening Hours</div>
                                    <div>
                                    	<span th:each="openingHour, iterStat : ${detail.openingHours}" th:text="!${iterStat.last} ? ${openingHour} + ', ' : ${openingHour}"></span>
                                    </div>
                                </div>
                                <div class="col-xs-6 col-sm-12 detail-type-padding">
                                    <div class="bna-color">Phone Number</div>
                                    <div th:text="${detail.phone}"></div>
                                </div>
                                <div class="clearfix visible-xs-block"></div>
                                <div class="col-xs-6 col-sm-12 detail-type-padding">
                                    <div class="bna-color">Average Cost</div>
                                    <div th:text="'Rs. ' + ${detail.averageCost}"></div>
                                </div>
                                <div class="col-xs-6 col-sm-12 detail-type-padding">
                                    <div class="bna-color">Type</div>
                                    <div>
                                    	<span th:each="type, iterStat : ${detail.type}" th:text="!${iterStat.last} ? ${type} + ', ' : ${type}"></span>
                                    </div>
                                </div>
                                <div class="clearfix visible-xs-block"></div>
                                <div class="col-xs-12 detail-type-padding">
                                    <div class="bna-color">Address</div>
                                    <div th:text="${detail.longAddress}"></div>
                                </div>
                            </div>    
                        </div>                        
                    </div>
                    <div class="detail-about">
                        <div class="col-xs-12 col-sm-8 col-sm-pull-4 white-background details-wrapper" style="margin-top: 10px;">
                            <div class="col-xs-12">
                                <div class="row">
                                    <div class="col-xs-12 font-1-5 bna-color padding-3">
                                        What people love here
                                    </div>    
                                </div>
                                <div class="row recommended-wrapper">
                                    <div class="col-xs-12">
                                        <div class="row" th:each="item, iterStat : ${popularDishes.dishes}">
                                        	<a class="cursor-pointer" href="/hyderabad/fusion-9-hitech-city/12346">
	                                            <div class="col-xs-12 recommended-item">
	                                                <div class="float-left" style="object-fit: cover;">
	                                                    <img class="user-icon" th:src="${item.imageUrl}" />
	                                                </div>
	                                                <div class="float-left item-desc-wrapper">
	                                                    <div class="bold item-name" th:text="${item.name}">
	                                                        <!-- Joojeh Kebab -->
	                                                    </div>
	                                                     <div th:text="${item.recommendations} + ' people recommended'">
	                                                        <!-- 22 people recommended -->
	                                                    </div>
	                                                </div>                                                                           
	                                            </div>
                                            </a>
                                        </div>
                                    </div>
                                </div>
                                <div class="row padding-top">
                                    <hr />
                                    <div class="pull-right bna-color padding-3 cursor-pointer" onclick="loadPopularDishes();">
                                        <a>See all recommendations</a>
                                    </div>                                    
                                </div>                                               
                            </div>                        
                        </div>
                        <div class="col-xs-12 col-sm-8 white-background details-wrapper" style="margin-top: 10px;">
                        	<div class="col-xs-12">
                                <div class="row">
                                    <div class="col-xs-12 font-1-5 bna-color padding-3">
                                        My recommendations &nbsp; <i class="fa fa-heart red" aria-hidden="true"></i>
                                    </div>  
                                    <div class="col-xs-12 light padding-3">
                                        Food or drinks that you simply love having at <span class="bold" th:text="${detail.name}"></span>
                                    </div>   
                                </div>
                                <div class="row recommended-wrapper">
                                    <div class="col-xs-12">
                                    	<div class="loader"></div>
                                   		<div class="my-recommendations">
	                                        <!-- <div class="row">
	                                            <div class="col-xs-12 recommended-item cursor-pointer">
	                                                <div class="bold recommend-item-name">
	                                                	<span class="hide recommendation-id">21</span>
	                                                    <span class="hide item-id">11</span>
	                                                    <span class="bna-color item-hash">#1</span>
	                                                    <span class="item-name">Joojeh Kebab</span>
	                                                </div>
	                                                <div class="recommend-item-desc">
	                                                    description of the dish
	                                                </div>                                                                         
	                                            </div>
	                                        </div> -->
                                        </div>
                                        <div class="row align-center addRecommendButtonDiv">
                                            <hr />
                                            <button id="addRecommendButton" class="bna-button recommend-button">Add a recommendation</button>
                                        </div>
                                    </div>
                                </div>                                           
                            </div>
                        </div>                       
                    </div> 
                </div>
            </div>
        </div>
        
        <div lang="en" th:replace="fragments/recommend-modal :: recommend-modal"></div>
        
        <div lang="en" th:replace="fragments/alert-modal :: alert-modal"></div>
        
        <div lang="en" th:replace="fragments/loadmore-modal :: loadmore-modal"></div>
        
        <!-- <div lang="en" th:replace="fragments/loading-modal :: loading-modal"></div> -->
        
        <div lang="en" th:replace="fragments/login-modal :: login-modal"></div>

		<div lang="en" th:replace="fragments/footer :: footer"></div>

	</div>
	<input type="hidden" id="accessToken" th:value='${accessToken}' />
	<script src="/js/detail.js"></script>
</body>

</html>
